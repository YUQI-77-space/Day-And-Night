# 2026年2月13日开发工作计划

> **日期：** 2026-02-13
> **任务类型：** 肉鸽原型核心内容开发
> **核心理念：** 跳过UI完善工作，直接开发可玩的核心游戏循环
> **预计工时：** 4-6小时

---

## 今日开发核心理念

### 为什么跳过UI完善？

昨天的工作计划（20261212.md）过度关注了**界面完善**（主菜单、暂停菜单、加载界面），而这些并非游戏的核心内容。一个可运行、可游玩的**核心玩法循环**比精美的界面更重要。

### MVP（最小可行性产品）原则

**需要实现的最小功能：**
- 玩家可以移动、操作、攻击
- 有敌人可以战斗
- 有简单的胜负判定
- 有一个可以循环体验的"肉鸽"核心

**不需要实现的：**
- ❌ 主菜单UI预制体
- ❌ 暂停菜单
- ❌ 加载界面
- ❌ 设置面板
- ❌ 详细的按钮美术资源

---

## 肉鸽核心循环概念

```
进入战斗 → 击败敌人 → 获得战利品 → 变强 → 挑战更强敌人 → 死亡 → 重新开始
```

---

## 今日工作清单

### 任务1：玩家控制器开发

**涉及文件：**
- `Assets/_Project/Scripts/Gameplay/PlayerController.cs`（新建）
- `Assets/_Project/Scripts/Gameplay/PlayerStats.cs`（新建）

**功能需求：**

| 功能 | 说明 | 优先级 |
|------|------|--------|
| 基础移动 | WASD八方向移动 | P0 |
| 移动速度 | 使用GameConfig中的基础速度 | P0 |
| 普通攻击 | 鼠标左键触发，对前方扇形范围造成伤害 | P0 |
| 攻击冷却 | 每次攻击后需要冷却时间 | P0 |
| 闪避功能 | 空格键，快速位移+短暂无敌帧 | P1 |
| 生命值管理 | 受伤、死亡、复活 | P0 |
| 耐力值系统 | 攻击/闪避消耗耐力，耐力自动恢复 | P1 |

**实现思路：**
1. 创建PlayerStats类管理玩家属性（HP、耐力、攻击力）
2. 创建PlayerController类处理输入和移动
3. 使用简单的CapsuleCollider做碰撞检测
4. 攻击使用简单的射线检测或扇形检测

**验证标准：**
- [ ] 玩家可以用WASD移动
- [ ] 点击鼠标可以攻击
- [ ] 攻击可以对敌人造成伤害
- [ ] 玩家受伤会减少HP
- [ ] HP归零会有死亡反馈（不需要完整死亡界面，Console输出即可）

**美术资源需求清单：**

| 序号 | 资源名称 | 用途 | 规格要求 | 格式 | 备注 |
|------|---------|------|----------|------|------|
| 1 | 玩家基础Sprite | 主角显示用（无动画状态） | 64x64px，透明背景 | PNG | 临时可用色块代替 |
| 2 | 玩家移动序列帧 | WASD移动时的动画 | 4方向×4帧=16张，32x32px或64x64px | PNG | 上下左右4方向 |
| 3 | 玩家攻击动画 | 鼠标左键攻击动作 | 攻击动作4-6帧，64x64px | PNG | 攻击时播放 |
| 4 | 玩家受伤动画 | 受到伤害时的反馈 | 2-3帧，64x64px | PNG | 闪烁或后仰 |
| 5 | 玩家死亡动画 | HP归零时 | 3-5帧，64x64px | PNG | 倒下或消失 |

**方向说明（2D游戏）：**
- 通常需要4方向：上、下、左、右
- 如果是斜45度视角，可能需要8方向

**临时替代方案：**
- 正式资源未完成前，使用Unity内置的2D Sprite - Square 或 Unity-chan等免费资源包
- 用不同颜色的方块代表不同状态

---

### 任务2：敌人系统开发

**涉及文件：**
- `Assets/_Project/Scripts/Gameplay/EnemyController.cs`（新建）
- `Assets/_Project/Scripts/Gameplay/EnemyStats.cs`（新建）
- `Assets/_Project/Scripts/Gameplay/EnemySpawner.cs`（新建）

**功能需求：**

| 功能 | 说明 | 优先级 |
|------|------|--------|
| 敌人基础属性 | HP、攻击力、移动速度 | P0 |
| 敌人AI行为 | 巡逻 → 发现玩家 → 追击 → 攻击 | P0 |
| 敌人受伤 | 受到攻击减少HP | P0 |
| 敌人死亡 | HP归零后销毁，掉落战利品 | P0 |
| 刷怪点 | 在指定位置生成敌人 | P0 |

**实现思路：**
1. EnemyStats类管理敌人属性
2. EnemyController类实现简单AI：
   - 状态机：Idle（待机）→ Chase（追击）→ Attack（攻击）
   - 距离检测：发现玩家后追击
   - 攻击检测：靠近玩家后造成伤害
3. EnemySpawner类管理敌人生成

**验证标准：**
- [ ] 敌人生成后在场景中显示
- [ ] 敌人会向玩家移动
- [ ] 敌人接触玩家会造成伤害
- [ ] 玩家攻击敌人会减少敌人HP
- [ ] 敌人死亡后消失

**美术资源需求清单：**

| 序号 | 资源名称 | 用途 | 规格要求 | 格式 | 备注 |
|------|---------|------|----------|------|------|
| 1 | 基础敌人Sprite | 普通敌人显示 | 64x64px，透明背景 | PNG | 临时可用红色方块 |
| 2 | 敌人移动序列帧 | 追击玩家时的动画 | 4方向×4帧=16张，64x64px | PNG | 移动时循环播放 |
| 3 | 敌人攻击动画 | 接触玩家造成伤害 | 3-4帧，64x64px | PNG | 攻击时播放 |
| 4 | 敌人受伤动画 | 受到攻击的反馈 | 2帧，64x64px | PNG | 闪烁或后仰 |
| 5 | 敌人死亡动画 | HP归零时 | 3-5帧，64x64px | PNG | 消失或倒下 |
| 6 | 精英敌人Sprite | 强化版敌人 | 80x80px，透明背景 | PNG | 颜色/外观区分普通敌人 |
| 7 | 精英敌人动画 | 精英版移动/攻击/受伤/死亡 | 同普通敌人 | PNG | 动画帧数可更多 |

**临时替代方案：**
- 正式资源未完成前，使用Unity内置的2D Sprite
- 不同颜色的方块代表不同类型敌人：
  - 红色方块 = 普通敌人
  - 紫色方块 = 精英敌人
  - 蓝色方块 = Boss（如果有）

---

### 任务3：战斗系统开发

**涉及文件：**
- `Assets/_Project/Scripts/Gameplay/CombatManager.cs`（新建）
- `Assets/_Project/Scripts/Gameplay/DamagePopup.cs`（新建）

**功能需求：**

| 功能 | 说明 | 优先级 |
|------|------|--------|
| 伤害计算 | (基础伤害 × 攻击方攻击力 - 防御方防御力) × 暴击 | P0 |
| 伤害飘字 | 攻击命中时显示伤害数字 | P1 |
| 攻击检测 | 玩家攻击时检测命中敌人 | P0 |
| 碰撞检测 | 敌人接触玩家造成伤害 | P0 |
| 战斗反馈 | 攻击命中/暴击/击杀的Console输出 | P1 |

**实现思路：**
1. CombatManager作为静态类处理所有伤害计算
2. 伤害公式参考设计文档：最终伤害 = (基础伤害 × 属性加成 - 敌人护甲) × 暴击倍率
3. 伤害飘字使用World Space Canvas或简单UI Text

**验证标准：**
- [ ] 攻击命中时Console输出伤害数值
- [ ] 暴击时Console提示暴击
- [ ] 敌人死亡时Console提示击杀

**美术资源需求清单：**

| 序号 | 资源名称 | 用途 | 规格要求 | 格式 | 备注 |
|------|---------|------|----------|------|------|
| 1 | 武器Sprite | 玩家手持武器显示 | 32x32px，透明背景 | PNG | 近战武器（剑/刀） |
| 2 | 武器攻击特效 | 攻击时的视觉反馈 | 64x64px，透明背景 | PNG | 挥砍闪光效果 |
| 3 | 暴击特效 | 暴击时的视觉反馈 | 64x64px，透明背景 | PNG | 金色闪光或星星 |
| 4 | 受伤特效 | 受到攻击的视觉反馈 | 64x64px，透明背景 | PNG | 红色闪烁或火花 |
| 5 | 死亡特效 | 敌人死亡的视觉反馈 | 64x64px，透明背景 | PNG | 烟雾或粒子消散效果 |

**临时替代方案：**
- 武器用简单的白色三角形或矩形
- 特效用Unity Particle System的默认粒子
- 飘字使用TextMeshPro（Unity内置）

---

### 任务4：战利品与成长系统

**涉及文件：**
- `Assets/_Project/Scripts/Gameplay/LootDrop.cs`（新建）
- `Assets/_Project/Scripts/Gameplay/LootPickup.cs`（新建）

**功能需求：**

| 功能 | 说明 | 优先级 |
|------|------|--------|
| 战利品掉落 | 敌人死亡时掉落战利品 | P1 |
| 战利品类型 | 金币、经验、装备碎片 | P1 |
| 拾取功能 | 玩家靠近战利品自动拾取 | P1 |
| 临时强化 | 拾取后临时提升玩家属性 | P1 |

**实现思路：**
1. 敌人死亡时生成LootPickup对象
2. 战利品包含数据：类型、数量、临时属性加成
3. 玩家靠近后自动添加到临时加成

**验证标准：**
- [ ] 敌人死亡时生成战利品物体
- [ ] 战利品可以放置在场景中
- [ ] 拾取时Console输出获得奖励

**美术资源需求清单：**

| 序号 | 资源名称 | 用途 | 规格要求 | 格式 | 备注 |
|------|---------|------|----------|------|------|
| 1 | 金币Sprite | 货币掉落物 | 16x16px，透明背景，圆形金色 | PNG | 基础货币 |
| 2 | 经验瓶Sprite | 经验值掉落物 | 16x16px，透明背景，蓝色瓶装 | PNG | 提升等级 |
| 3 | 生命药水Sprite | 恢复HP的道具 | 16x16px，透明背景，红色瓶装 | PNG | 战斗中恢复 |
| 4 | 攻击力碎片Sprite | 临时提升攻击 | 16x16px，透明背景，橙色碎片 | PNG | 短期强化 |
| 5 | 防御力碎片Sprite | 临时提升防御 | 16x16px，透明背景，灰色碎片 | PNG | 短期强化 |
| 6 | 战利品光圈特效 | 战利品周围的光效 | 32x32px，透明背景 | PNG | 发光效果吸引注意 |

**临时替代方案：**
- 用不同颜色的小方块代替：
  - 金色小方块 = 金币
  - 蓝色小方块 = 经验瓶
  - 红色小方块 = 生命药水

---

### 任务5：最简测试场景搭建

**涉及文件：**
- `Assets/_Project/Scenes/Combat/TestCombat.unity`（新建）
- 简单的Plane地面 + Player + Enemy + 刷怪点

**场景内容：**
- 一个平面地面（10x10米）
- 一个玩家起始点
- 一个刷怪点
- 一个简单的敌人预制体
- 临时光照和摄像机

**验证标准：**
- [ ] 打开场景可以看到地面、玩家
- [ ] 按下Play后可以操作玩家
- [ ] 可以攻击敌人并看到反馈
- [ ] 敌人会反击
- [ ] 完整的"战斗 → 击杀 → 获得奖励"循环可以跑通

**美术资源需求清单：**

| 序号 | 资源名称 | 用途 | 规格要求 | 格式 | 备注 |
|------|---------|------|----------|------|------|
| 1 | 地面Tile | 测试场景地面贴图 | 64x64px或128x128px，可平铺 | PNG | 草地或地面纹理 |
| 2 | 背景图 | 场景背景 | 1920x1080或更大 | PNG | 远景或渐变背景 |
| 3 | 边界障碍物 | 限制玩家移动范围 | 64x64px | PNG | 墙壁或围栏 |
| 4 | 刷怪点标记 | 显示敌人生成位置 | 64x64px，透明背景 | PNG | 光圈或标记 |

**临时替代方案：**
- 地面使用Unity内置的2D Square Sprite填充
- 背景使用纯色或渐变

---

### 任务6：临时Debug UI（极简）

**涉及文件：**
- `Assets/_Project/Scripts/UI/DebugHUD.cs`（新建）

**功能需求：**

| 功能 | 说明 | 优先级 |
|------|------|--------|
| 玩家HP显示 | 左上角显示"HP: 100/100" | P0 |
| 敌人数量显示 | 右上角显示"Enemies: 3" | P1 |

**实现思路：**
- 使用Unity UI Text组件
- 放在Screen Space - Overlay Canvas
- 只显示最基本的状态信息

**验证标准：**
- [ ] HP数字随受伤减少
- [ ] 敌人死亡后数量减少

**美术资源需求清单：**

| 序号 | 资源名称 | 用途 | 规格要求 | 格式 | 备注 |
|------|---------|------|----------|------|------|
| 1 | HP条背景 | 血条底色 | 200x20px，灰色或深色 | PNG | 临时可用颜色块 |
| 2 | HP条前景 | 血条填充 | 200x20px，红色或绿色 | PNG | 随HP变化宽度 |
| 3 | 边框装饰 | HP条边框 | 210x30px，透明背景 | PNG | 可选 |

**临时替代方案：**
- 使用Unity UI Image组件，颜色填充作为血条
- 不需要美术资源，用纯色即可

---

## 美术资源汇总表（按优先级排序）

### P0 - 必须有的资源（否则无法测试核心玩法）

| 序号 | 资源名称 | 数量 | 规格 | 用途 |
|------|---------|------|------|------|
| 1 | 玩家基础Sprite | 1张 | 64x64px PNG | 主角显示 |
| 2 | 敌人基础Sprite | 1张 | 64x64px PNG | 敌人显示 |
| 3 | 地面Tile | 1张 | 64x64px PNG | 场景地面 |
| 4 | 金币Sprite | 1张 | 16x16px PNG | 战利品 |
| 5 | 武器Sprite | 1张 | 32x32px PNG | 攻击显示 |

### P1 - 应该有的资源（提升测试体验）

| 序号 | 资源名称 | 数量 | 规格 | 用途 |
|------|---------|------|------|------|
| 1 | 玩家移动序列帧 | 16张 | 64x64px PNG | 移动动画 |
| 2 | 玩家攻击动画 | 4张 | 64x64px PNG | 攻击反馈 |
| 3 | 敌人移动序列帧 | 16张 | 64x64px PNG | 追击动画 |
| 4 | 敌人死亡动画 | 3张 | 64x64px PNG | 击杀反馈 |
| 5 | 生命药水Sprite | 1张 | 16x16px PNG | 恢复道具 |
| 6 | HP条前景 | 1张 | 200x20px PNG | 血条显示 |

### P2 - 锦上添花的资源（暂时没有也能工作）

| 序号 | 资源名称 | 数量 | 规格 | 用途 |
|------|---------|------|------|------|
| 1 | 玩家受伤动画 | 2张 | 64x64px PNG | 受伤反馈 |
| 2 | 敌人受伤动画 | 2张 | 64x64px PNG | 命中反馈 |
| 3 | 经验瓶Sprite | 1张 | 16x16px PNG | 成长道具 |
| 4 | 武器攻击特效 | 1张 | 64x64px PNG | 攻击视觉 |
| 5 | 背景图 | 1张 | 1920x1080 PNG | 场景背景 |

---

## 美术资源制作优先级建议

根据今日开发顺序，建议按以下顺序制作资源：

1. **首先制作**（今日必须）
   - 玩家基础Sprite（白色方块+简单标记即可）
   - 敌人基础Sprite（红色方块即可）
   - 地面Tile（纯色方块即可）

2. **其次制作**（今日最好有）
   - 玩家移动动画序列帧
   - 玩家攻击动画
   - 敌人死亡动画

3. **最后制作**（可以后面补）
   - 敌人移动动画
   - 战利品Sprite
   - 特效资源

---

## 美术资源存放位置

建议将美术资源存放在以下目录：

```
Assets/_Project/Art/Sprites/
├── Characters/          # 角色相关
│   ├── Player/           # 玩家
│   │   ├── Player_Base.png
│   │   ├── Player_Move_*.png (16张)
│   │   └── Player_Attack_*.png (4张)
│   └── Enemy/            # 敌人
│       ├── Enemy_Base.png
│       ├── Enemy_Move_*.png (16张)
│       └── Enemy_Death_*.png (3张)
├── Items/                # 道具
│   ├── Coin.png
│   ├── HealthPotion.png
│   └── ExperienceBottle.png
├── Effects/              # 特效
│   ├── WeaponSwing.png
│   └── DamageText.png
├── Environment/          # 环境
│   ├── GroundTile.png
│   └── Background.png
└── UI/                   # UI元素
    ├── HPBarFill.png
    └── Border.png
```

---

## 今日完成检查清单

### 核心功能检查

- [ ] 玩家可以使用WASD移动
- [ ] 玩家可以点击鼠标攻击
- [ ] 敌人会向玩家移动并攻击
- [ ] 攻击可以对敌人造成伤害
- [ ] 敌人死亡会掉落战利品
- [ ] 完整的战斗循环可以跑通

### MVP检查

- [ ] 跳过主菜单，直接进入测试场景
- [ ] 不需要加载界面
- [ ] 不需要暂停菜单
- [ ] 只有最基本的Debug UI显示HP

### 代码结构检查

- [ ] Gameplay目录下有核心游戏脚本
- [ ] 遵循现有代码规范
- [ ] 代码有基本的注释说明

### 美术资源检查

- [ ] 玩家基础Sprite已准备（可用临时方块）
- [ ] 敌人基础Sprite已准备（可用临时方块）
- [ ] 地面Tile已准备（可用临时方块）
- [ ] 金币Sprite已准备（可用临时方块）

---

## 明日工作预告（可选）

完成核心玩法后，下一步方向：

1. **完善战斗系统**
   - 格挡功能
   - 闪避功能
   - 连击系统

2. **六维属性系统**
   - 属性数据结构
   - 属性影响战斗数值

3. **敌人扩展**
   - 多种敌人类型
   - 精英敌人
   - Boss概念

4. **界面完善**
   - 主菜单基础版
   - 暂停功能
   - 存档系统

---

> **备注1：** 今日工作的核心是"可玩性"，不是"完整性"。不需要追求完美的UI和系统，先做一个可以玩的肉鸽核心循环出来。

> **备注2：** 美术资源可以先用简单的色块或Unity内置资源代替，只要功能测试通过，后续再逐步替换为正式美术资源。

> **备注3：** 如果美术资源确实紧张，可以先只做玩家和一种敌人的最简化Sprite（各1张），先用色块测试移动和战斗逻辑。
